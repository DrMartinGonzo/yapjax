<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"modules.list.html":{"id":"modules.list.html","title":"Modules","body":" Documentation Modules dominternalmainutil Classes main~Yapjax Modules Classes Yapjax × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-04-13T00:41:10+09:00 using the DocStrap template. "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" Documentation Modules dominternalmainutil Classes main~Yapjax Classes Classes Yapjax × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-04-13T00:41:10+09:00 using the DocStrap template. "},"index.html":{"id":"index.html","title":"Index","body":" Documentation Modules dominternalmainutil Classes main~Yapjax yapjax-- Yet Another PJAX library -- yapjax is a library that enables changing page without fullpage-reload. It's heavily inspired by jquery-pjax. It's ... standalone. You don't need to include jQuery. works with browserify. tiny (minified: 6.07kb, gziped: 2.05kb). Usagenpm install --save yapjaxExampleOf course, these examples needs to be bundled by browserify, webpack or etc... Simplevar pjax = require('yapjax'); pjax({ container: '#pjax-container', target: 'a[data-pjax]' }).load();ManipulatingWith modifier, it's easy to manipulate uri, response data, and title. var pjax = require('yapjax'); var marked = require('marked'); // markdown parser var layer = document.getElementById('layer'); var convertLink = function(html){ return html .replace( /&lt;a(\\s.+\\s|\\s)href=&quot;(\\/.*)&quot;(\\s.+|)&gt;(.*)&lt;\\/a&gt;/g, '&lt;a $1 href=&quot;$2&quot; $3 data-pjax&gt;$4&lt;/a&gt;' ); }; pjax({ container: '#pjax-container', target: 'a[data-pjax]', delay: 200 }).on('loadstart',(data)=&gt;{ layer.classList.add('fade'); }).on('loadcomplete',(data)=&gt;{ layer.classList.remove('fade'); }).modify({ uri:function(uri){ return uri+'/page.md'; }, title:function(title){ return title+' - my speedy site'; }, response:function(response){ return convertLink(marked(response)); } }).load();NestingIt's simple to nest. You can call yapjax in chains via script located in pjax-loaded page. In order to use this technique, you must configure your server to always return /index.html for request that does not have ext (like /foo/bar and /hoge/fuga/piyo/). If your server running on node, using pushstate-server is all you need. This way ignores legacy browser not supporting pushState/popstate. // [index.js] var pjax = require('yapjax'); pjax({ container: '#pjax-container-main', target: 'a[data-pjax]' }).modify({ uri:function(uri){ // If uri starts with '/gallery', return uri.indexOf('/gallery')===0 ? '/gallery/sidemenu.html' // yapjax loads common parts of gellery : uri+'/page.html'; // otherwise load page normally } }).load();&lt;!-- [gallery/sidemenu.html] --&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;/gallery/index.js&quot;&gt;&lt;/script&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;/gallery/style.css&quot;/&gt; &lt;div class=&quot;gallery--sidemenu&quot;&gt; ... &lt;/div&gt; &lt;div id=&quot;pjax-container-gallery&quot;&gt; &lt;/div&gt;// [gallery/index.js] var pjax = require('yapjax'); var gallery = pjax({ container: '#pjax-container-gallery', target: 'a[data-pjax]' }); gallery.on('beforeload',function(data){ var uri = data.uri, cancel = data.cancel; // If uri does not contains '/gallery', if(!(uri.indexOf('/gallery') &gt; -1)){ // cancel loading and cancel(); // detach handlers attached by gallery's yapjax. pjax.destructor(); } }).modify({ uri: function(uri){ return uri+'/page.html'; } }).load();When requested /gallery/some/picture, server returns /index.html /index.js called yapjax in /index.js recieves uri then loads /gallery/sidemenu.html (manipulated by modifer, see uri on modify method's argument). server returns /gallery/sidemenu.html write html to &lt;div id=&quot;pjax-container-main&quot;&gt;&lt;/div&gt; yapjax in /index.js execute script in /gallery/sidemenu.html (= /gallery/index.js) /gallery/index.js called yapjax in /gallery/index.js recieves /gallery/some/picture yapjax in /gallery/index.js loads /gallery/some/picture/page.html and write it to &lt;div id=&quot;pjax-container-gallery&gt;&lt;/div&gt; ContributionAlways welcome ! If you find bug, typo or grammatical error (I'm not English speaker), please open an issue. If you have feature request, please open an issue or send pull request. × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-04-13T00:41:10+09:00 using the DocStrap template. "},"module-dom.html":{"id":"module-dom.html","title":"Module: dom","body":" Documentation Modules dominternalmainutil Classes main~Yapjax Module: dom DOM utilities. Methods &lt;inner&gt; select(container, selector) Returns an array elements matched for css selector. Parameters: Name Type Description container HTMLElement find elements under this container. selector string css selector. Returns: an array of nodes. Type Array.&lt;NodeList&gt; × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-04-13T00:41:10+09:00 using the DocStrap template. "},"module-internal.html":{"id":"module-internal.html","title":"Module: internal","body":" Documentation Modules dominternalmainutil Classes main~Yapjax Module: internal Methods &lt;inner&gt; dispatch(instance, event, payload) Dispatch pjax event. Parameters: Name Type Description instance Yapjax yapjax instance. event string event name to dispatch. payload object data passed to event handler. Returns: payload, or returns of handler. Type object &lt;inner&gt; handler(instance, ev) Click event listener Parameters: Name Type Description instance Yapjax yapjax instance ev Event click event Returns: return true if target element has 'href' value Type boolean &lt;inner&gt; listen(instance) Listen events and returns detacher. Parameters: Name Type Description instance Yapjax yapjax instance. Returns: function detaches event listener. Type function &lt;inner&gt; loadUri(instance, uri, pushState) Load uri. Parameters: Name Type Description instance Yapjax yapjax instance. uri string request uri. pushState boolean push uri to history or not. Returns: true:request sent, false:interrupted. Type boolean &lt;inner&gt; rewrite(instance, contents) Rewrite container html. Parameters: Name Type Description instance Yapjax yapjax instance. contents string html string to write to container. Returns: Type void &lt;inner&gt; sendRequest(instance, modifiedUri, requestedUri, pushState) Send request (dispatched after delay). Parameters: Name Type Description instance Yapjax yapjax instance. modifiedUri string uri to request (actual uri). requestedUri string uri that user requested (shown in location bar). pushState boolean pushes to history or not. Returns: Type void Module: internal Methods &lt;inner&gt; dispatch(instance, event, payload) Dispatch pjax event. Parameters: Name Type Description instance Yapjax yapjax instance. event string event name to dispatch. payload object data passed to event handler. Returns: payload, or returns of handler. Type object &lt;inner&gt; handler(instance, ev) Click event listener Parameters: Name Type Description instance Yapjax yapjax instance ev Event click event Returns: return true if target element has 'href' value Type boolean &lt;inner&gt; listen(instance) Listen events and returns detacher. Parameters: Name Type Description instance Yapjax yapjax instance. Returns: function detaches event listener. Type function &lt;inner&gt; loadUri(instance, uri, pushState) Load uri. Parameters: Name Type Description instance Yapjax yapjax instance. uri string request uri. pushState boolean push uri to history or not. Returns: true:request sent, false:interrupted. Type boolean &lt;inner&gt; rewrite(instance, contents) Rewrite container html. Parameters: Name Type Description instance Yapjax yapjax instance. contents string html string to write to container. Returns: Type void &lt;inner&gt; sendRequest(instance, modifiedUri, requestedUri, pushState) Send request (dispatched after delay). Parameters: Name Type Description instance Yapjax yapjax instance. modifiedUri string uri to request (actual uri). requestedUri string uri that user requested (shown in location bar). pushState boolean pushes to history or not. Returns: Type void Module: internal Methods &lt;inner&gt; dispatch(instance, event, payload) Dispatch pjax event. Parameters: Name Type Description instance Yapjax yapjax instance. event string event name to dispatch. payload object data passed to event handler. Returns: payload, or returns of handler. Type object &lt;inner&gt; handler(instance, ev) Click event listener Parameters: Name Type Description instance Yapjax yapjax instance ev Event click event Returns: return true if target element has 'href' value Type boolean &lt;inner&gt; listen(instance) Listen events and returns detacher. Parameters: Name Type Description instance Yapjax yapjax instance. Returns: function detaches event listener. Type function &lt;inner&gt; loadUri(instance, uri, pushState) Load uri. Parameters: Name Type Description instance Yapjax yapjax instance. uri string request uri. pushState boolean push uri to history or not. Returns: true:request sent, false:interrupted. Type boolean &lt;inner&gt; rewrite(instance, contents) Rewrite container html. Parameters: Name Type Description instance Yapjax yapjax instance. contents string html string to write to container. Returns: Type void &lt;inner&gt; sendRequest(instance, modifiedUri, requestedUri, pushState) Send request (dispatched after delay). Parameters: Name Type Description instance Yapjax yapjax instance. modifiedUri string uri to request (actual uri). requestedUri string uri that user requested (shown in location bar). pushState boolean pushes to history or not. Returns: Type void Module: internal Methods &lt;inner&gt; dispatch(instance, event, payload) Dispatch pjax event. Parameters: Name Type Description instance Yapjax yapjax instance. event string event name to dispatch. payload object data passed to event handler. Returns: payload, or returns of handler. Type object &lt;inner&gt; handler(instance, ev) Click event listener Parameters: Name Type Description instance Yapjax yapjax instance ev Event click event Returns: return true if target element has 'href' value Type boolean &lt;inner&gt; listen(instance) Listen events and returns detacher. Parameters: Name Type Description instance Yapjax yapjax instance. Returns: function detaches event listener. Type function &lt;inner&gt; loadUri(instance, uri, pushState) Load uri. Parameters: Name Type Description instance Yapjax yapjax instance. uri string request uri. pushState boolean push uri to history or not. Returns: true:request sent, false:interrupted. Type boolean &lt;inner&gt; rewrite(instance, contents) Rewrite container html. Parameters: Name Type Description instance Yapjax yapjax instance. contents string html string to write to container. Returns: Type void &lt;inner&gt; sendRequest(instance, modifiedUri, requestedUri, pushState) Send request (dispatched after delay). Parameters: Name Type Description instance Yapjax yapjax instance. modifiedUri string uri to request (actual uri). requestedUri string uri that user requested (shown in location bar). pushState boolean pushes to history or not. Returns: Type void Module: internal Methods &lt;inner&gt; dispatch(instance, event, payload) Dispatch pjax event. Parameters: Name Type Description instance Yapjax yapjax instance. event string event name to dispatch. payload object data passed to event handler. Returns: payload, or returns of handler. Type object &lt;inner&gt; handler(instance, ev) Click event listener Parameters: Name Type Description instance Yapjax yapjax instance ev Event click event Returns: return true if target element has 'href' value Type boolean &lt;inner&gt; listen(instance) Listen events and returns detacher. Parameters: Name Type Description instance Yapjax yapjax instance. Returns: function detaches event listener. Type function &lt;inner&gt; loadUri(instance, uri, pushState) Load uri. Parameters: Name Type Description instance Yapjax yapjax instance. uri string request uri. pushState boolean push uri to history or not. Returns: true:request sent, false:interrupted. Type boolean &lt;inner&gt; rewrite(instance, contents) Rewrite container html. Parameters: Name Type Description instance Yapjax yapjax instance. contents string html string to write to container. Returns: Type void &lt;inner&gt; sendRequest(instance, modifiedUri, requestedUri, pushState) Send request (dispatched after delay). Parameters: Name Type Description instance Yapjax yapjax instance. modifiedUri string uri to request (actual uri). requestedUri string uri that user requested (shown in location bar). pushState boolean pushes to history or not. Returns: Type void Module: internal Methods &lt;inner&gt; dispatch(instance, event, payload) Dispatch pjax event. Parameters: Name Type Description instance Yapjax yapjax instance. event string event name to dispatch. payload object data passed to event handler. Returns: payload, or returns of handler. Type object &lt;inner&gt; handler(instance, ev) Click event listener Parameters: Name Type Description instance Yapjax yapjax instance ev Event click event Returns: return true if target element has 'href' value Type boolean &lt;inner&gt; listen(instance) Listen events and returns detacher. Parameters: Name Type Description instance Yapjax yapjax instance. Returns: function detaches event listener. Type function &lt;inner&gt; loadUri(instance, uri, pushState) Load uri. Parameters: Name Type Description instance Yapjax yapjax instance. uri string request uri. pushState boolean push uri to history or not. Returns: true:request sent, false:interrupted. Type boolean &lt;inner&gt; rewrite(instance, contents) Rewrite container html. Parameters: Name Type Description instance Yapjax yapjax instance. contents string html string to write to container. Returns: Type void &lt;inner&gt; sendRequest(instance, modifiedUri, requestedUri, pushState) Send request (dispatched after delay). Parameters: Name Type Description instance Yapjax yapjax instance. modifiedUri string uri to request (actual uri). requestedUri string uri that user requested (shown in location bar). pushState boolean pushes to history or not. Returns: Type void × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-04-13T00:41:10+09:00 using the DocStrap template. "},"module-main.html":{"id":"module-main.html","title":"Module: main","body":" Documentation Modules dominternalmainutil Classes main~Yapjax Module: main Classes Yapjax × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-04-13T00:41:10+09:00 using the DocStrap template. "},"module-main-Yapjax.html":{"id":"module-main-Yapjax.html","title":"Class: Yapjax","body":" Documentation Modules dominternalmainutil Classes main~Yapjax Class: Yapjax main~ Yapjax new Yapjax() Create yapjax instance. Members &lt;private&gt; _container Container to be rewritten. &lt;private&gt; _delay Loading delay or async dispatcher. &lt;private&gt; _hook Pjax event hook. &lt;private&gt; _modifier Modifiers. &lt;private&gt; _previousUri Store previous uri. &lt;private&gt; _resources Unique key of resources added by pjax. &lt;private&gt; _retry Retry count. &lt;private&gt; _target A selector for links to append load event. &lt;private&gt; _timeout [Not used] Loading timeout value. Methods delay(value, value) Set delay for loading. Parameters: Name Type Description value number milliseconds delay to load. value function function that dispatch send request. Returns: instance. Type Yapjax destructor() Detach events and deref props. Returns: Type void load(uri) Load uri. Parameters: Name Type Description uri string uri to load. Returns: Type void modify(modifier) Set modifiers. Parameters: Name Type Description modifier object modifiers object. Properties Name Type Description uri function uri modifier. title function title modifier. response function response modifier. Returns: instance. Type Yapjax on(event, handler) Set event handler. Parameters: Name Type Description event string event to listen. handler function handler when event was dispatch. Returns: instance. Type Yapjax retry(count) Set retry count. Parameters: Name Type Description count number Count to retry. Returns: instance. Type Yapjax timeout(ms) Set timeout. Parameters: Name Type Description ms number milliseconds to timeout. Returns: instance. Type Yapjax × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-04-13T00:41:10+09:00 using the DocStrap template. "},"module-util.html":{"id":"module-util.html","title":"Module: util","body":" Documentation Modules dominternalmainutil Classes main~Yapjax Module: util Methods &lt;inner&gt; ajax(options) Ajax Parameters: Name Type Description options object ajax options. Properties Name Type Description uri string uri onload function success event handler onerror function error event handler Returns: Type void × Search results Close Documentation generated by JSDoc 3.4.0 on 2016-04-13T00:41:10+09:00 using the DocStrap template. "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
